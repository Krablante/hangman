<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>jsBoy</title>
</head>
<body>
  <script>
    var words = [
      "javascript",
      "monkey",
      "fish",
      "berserk"
    ];
    var word = words[Math.floor(Math.random() * words.length)];

    var answerArray = [];
    for (var i = 0; i < word.length; i++) {
      answerArray[i] = "_";
    }
    var remainingLetters = word.length;

    var lives = 3;

    while (remainingLetters > 0) {
      //Show the player their progress
      //Take input from the player
      //Update answerArray and remainingLetters
      //for every correct guess
      if (lives === 0) {
        break;

      }
      
      alert(answerArray.join(" "));
      var correctCounter = 0;
      var guess = prompt("Guess a letter, or click \"Cancel\" to stop playing");

      if (guess === null) {
        break;
      } else if (guess.length !== 1) {

        alert("Please enter a sigle letter.");
      
      } else {
        //update the game state with the guess
        for (var j = 0; j < word.length; j++) {

          if (word[j] === guess) {
            answerArray[j] = guess;
            remainingLetters--;
            correctCounter++;
          }
        }
        if (correctCounter === 0) {
          lives--;
          alert(lives + " lives left");
        }
      }
    }
    if (remainingLetters === 0) {
      alert(answerArray.join(" "));
      alert("Good job! The answer was " + word);
    } else {
      alert("Argh!.. You were so close!");
    }
  </script>
</body>
</html>